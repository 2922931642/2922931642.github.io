{"version":3,"sources":["imgs/background.jpg","utils.js","pages/index.jsx","components/model.jsx","pages/manage.jsx","pages/signin.jsx","pages/luckyDraw.jsx","router.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","getRandomPhone","mobile","max","min","length","parseInt","Math","random","checkPhoneNum","phoneNum","test","checkName","name","undefined","checkCode","code","LocalToArr","data","split","i","splice","mainStyle","position","top","bottom","height","width","backgroundImage","concat","backgroundImg","display","justifyContent","alignItems","Index","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","password","managerSignin","bind","assertThisInitialized","passwordChange","e","preventDefault","alert","setState","target","value","localStorage","getItem","names","operationIndex","sexs","workNums","clear","setItem","react_default","a","createElement","style","className","type","onChange","placeholder","NavLink","exact","to","onClick","Component","Model","props","showFlag","content","console","log","nextProps","_this$state","Manage","loadData","deleteData","updateData","modelNameChange","modelSexChange","modelWorkNumChange","modelPhoneChange","saveModelData","cancelModel","modelDelete","phones","operations","updateModelShowFlag","modelNameValue","modelSexValue","modelWorkNumValue","modelPhoneValue","updateIndex","index","parentNode","getAttribute","removeItem","defaultPhone","defaultName","defaultSex","defaultWorkNum","base64Str","str","atob","encoding","jschardet","detect","temp","workNumber","sex","push","that","files","refs","reader","FileReader","readAsDataURL","onload","evt","result","file","checkEncoding","Papa","parse","complete","results","res","pop","saveData","_this$state2","self","updateModelContent","defaultValue","phoneItems","map","phone","key","nameItems","sexItems","workItems","workNum","operation","peration","components_model","ref","Signin","addData","phoneChanage","nameChanage","sendVerificationCode","inputCodeChange","phoneNumber","flag","VerificationCodeTxt","realCode","isNameRight","isPhoneRight","isCodeRight","newMobile","getYanzhengma","url","fetchJsonp","then","response","json","catch","err","$http","left","timer","setInterval","clearInterval","_this$state3","LuckDraw","luckyNumber","beginFlag","endFlag","makeSureFlag","cancelFlag","award","begin","stop","makeSure","awardChange","cancel","luckyNumbers","luckyNames","awards","indexOf","listItems","awardItems","RootRouter","BrowserRouter","basename","Switch","Route","path","component","LuckyDraw","App","router","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.93c19920.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/background.81069451.jpg\";","import fetchJsonp from 'fetch-jsonp';\r\n/**\r\n * @description 获取随机数\r\n * @param {人数最大值} max \r\n * @param {最小值} min \r\n */\r\nexport const getRandom = (max,min) => {\r\n    var randnum = parseInt(Math.random()*(max-min+1));\r\n    return randnum;\r\n}\r\n/**\r\n * @description 根据随机数获取手机号码\r\n * @param {手机号码数组} mobile \r\n */\r\nexport const getRandomPhone = (mobile) => {\r\n    var length = mobile.length - 1;\r\n    if(length <-1){\r\n        return false;\r\n    }\r\n    var luckyNum = getRandom(length,0);\r\n    var luckyPhone = mobile[luckyNum];\r\n    return luckyPhone;\r\n}\r\n/**\r\n * @description 获得4位随机验证码\r\n */\r\nexport const getYanzhengma = () => {\r\n    var res = '';\r\n    for(var i=0;i<4;i++){\r\n        var random = parseInt(Math.random()*10);\r\n        res += random;\r\n    }\r\n    return parseInt(res);\r\n}\r\n/**\r\n * @description 调SMS短信通那边的接口,前端直接调有个跨域问题,这里用了jsonp去搞 \r\n * 然后fetch本身是不支持jsonp的,就用了一个fetch-jsonp库,然后SMS的接口那边也不支持\r\n * jsonp,所以这里会走error的回调,但是没关系,验证码还是可以发到的,不过建议把这个接口放到\r\n * 后端去调\r\n * @author dev.zhengyin@gmail.com\r\n */\r\nexport const $http = (url) => {\r\n    fetchJsonp(url).then(function (response) {\r\n        console.log(\"成功!\");\r\n        return response.json()\r\n    }).then(function(json){\r\n        console.log('成功的回调');\r\n    }).catch(function(err){\r\n        console.log('失败'+err);\r\n    })\r\n}\r\n/**\r\n * 判断编码类型\r\n * @param {*} base64Str \r\n * @param {*} jschardet \r\n */\r\nexport const checkEncoding = (base64Str,jschardet) => {\r\n    //这种方式得到的是一种二进制串\r\n    var str = atob(base64Str.split(\";base64,\")[1]);\r\n    //要用二进制格式\r\n    var encoding = jschardet.detect(str);\r\n    encoding = encoding.encoding;\r\n    if(encoding == \"windows-1252\"){    //有时会识别错误（如UTF8的中文二字）\r\n        encoding = \"ANSI\";\r\n    }\r\n    return encoding;\r\n\r\n}\r\n/**\r\n * @description 验证手机号码格式是否正确\r\n * @param {手机号} phoneNum \r\n */\r\nexport const checkPhoneNum = (phoneNum) => {\r\n    var reg = /^[1][3,4,5,7,8][0-9]{9}$/;\r\n    if(!reg.test(phoneNum)){\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * @description 验证名字不为空且不包含敏感词汇\r\n * @param {要验证的姓名} name \r\n */\r\nexport const checkName = (name) => {\r\n    if(name == undefined || name == '' || name == null || name == '小熊维尼') {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * @description 验证验证码格式正确\r\n * @param {*} code \r\n */\r\nexport const checkCode = (code) => {\r\n    if(!code){\r\n        return false;\r\n    }\r\n    if(code.length!=4){\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nexport const LocalToArr = (data) => {\r\n    if(data == null || data == undefined){\r\n        return undefined;\r\n    }\r\n    if(data == ''){\r\n        return [];\r\n    }\r\n    data = data.split(',');\r\n    for(var i=0;i<data.length;i++){\r\n        if(data[i] == ''){\r\n            data.splice(i,1);\r\n        }\r\n    }\r\n    return data;\r\n}","import React,{Component} from 'react'\r\n// import ManageEntrance from '../components/manageEntrance/manageEntrance'\r\nimport backgroundImg from '../imgs/background.jpg'\r\nimport './Index.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {LocalToArr} from '../utils'\r\nlet mainStyle ={\r\n    position: \"absolute\",\r\n    top:\"0px\",\r\n    bottom:\"0px\",\r\n    height:\"100%\",\r\n    width:\"100%\",\r\n    backgroundImage:`url(${backgroundImg})`,\r\n    display:\"flex\",\r\n    justifyContent:\"center\",\r\n    alignItems:\"center\"\r\n}\r\nclass Index extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            password: '',\r\n        }\r\n        this.managerSignin = this.managerSignin.bind(this);\r\n        this.passwordChange = this.passwordChange.bind(this);\r\n\r\n    }\r\n    managerSignin(e){\r\n        // 用路由拦截改写\r\n        if(this.state.password == '123456') {\r\n            // window.location.href=\"/manage\";\r\n        } else {\r\n            e.preventDefault();\r\n            alert('密码不正确!');\r\n            return false;\r\n        }\r\n    }\r\n    passwordChange(e){\r\n        this.setState({\r\n            password: e.target.value\r\n        })\r\n    }\r\n    componentDidMount(){\r\n        var mobile = LocalToArr(localStorage.getItem('mobile')) || [];\r\n        var names = LocalToArr(localStorage.getItem('names')) || [];\r\n        var operationIndex = LocalToArr(localStorage.getItem('operationIndex')) || [];\r\n        var sexs = LocalToArr(localStorage.getItem('sexs')) || [];\r\n        var workNums = LocalToArr(localStorage.getItem('workNums')) || [];\r\n        localStorage.clear();\r\n        localStorage.setItem('mobile',mobile);\r\n        localStorage.setItem('names',names);\r\n        localStorage.setItem('operationIndex',operationIndex);\r\n        localStorage.setItem('sexs',sexs);\r\n        localStorage.setItem('workNums',workNums);\r\n    }\r\n    render(){\r\n        return (\r\n            <div style={mainStyle}>\r\n                <div className=\"entrance\">\r\n                    <div className=\"manageEn\">\r\n                        <span className=\"entranceTxt\">请输入密码123456</span>\r\n                        <div>\r\n                            <input type=\"text\" value={this.state.password} onChange={this.passwordChange} className=\"managePassword\" placeholder=\"请输入开启密码\"></input>\r\n                            <NavLink exact to=\"/manage\" onClick={this.managerSignin}><div className=\"btn\">登入管理员端</div> </NavLink>\r\n                            {/* <div className=\"btn\" onClick={this.managerSignin}>登入管理员端</div> */}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"vistorEn\">\r\n                        <div>\r\n                            <NavLink exact to=\"/signin\"><div className=\"btn\">登入用户端</div> </NavLink>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Index","import React,{Component} from 'react';\r\nimport './model.css'\r\n\r\nclass Model extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            showFlag: this.props.showFlag,\r\n            content: this.props.content\r\n        }\r\n        console.log(this.props);\r\n    }\r\n    componentWillReceiveProps(nextProps){\r\n        this.setState({\r\n            showFlag: nextProps.showFlag,\r\n            content: nextProps.content\r\n        })\r\n    }\r\n    render(){\r\n        let {showFlag,content} = this.state\r\n        if(showFlag == false){\r\n            return <div></div>\r\n        } \r\n        return (\r\n            <div className=\"model\">\r\n                {content}\r\n                {/* <div className=\"\">\r\n                    <div className=\"\">确认</div>\r\n                    <div className=\"\">取消</div>\r\n                </div> */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Model;","import React,{Component} from 'react';\r\nimport jschardet from 'jschardet';\r\nimport Papa from 'papaparse';\r\nimport {NavLink} from 'react-router-dom';\r\nimport './manage.css'\r\nimport Model from '../components/model'\r\nimport {LocalToArr} from '../utils'\r\n\r\n\r\nclass Manage extends Component{\r\n    constructor(){\r\n        super();\r\n        this.loadData = this.loadData.bind(this);\r\n        this.deleteData = this.deleteData.bind(this);\r\n        this.updateData = this.updateData.bind(this);\r\n        this.modelNameChange = this.modelNameChange.bind(this);\r\n        this.modelSexChange = this.modelSexChange.bind(this);\r\n        this.modelWorkNumChange = this.modelWorkNumChange.bind(this);\r\n        this.modelPhoneChange = this.modelPhoneChange.bind(this);\r\n        this.saveModelData = this.saveModelData.bind(this);\r\n        this.cancelModel = this.cancelModel.bind(this);\r\n        this.modelDelete = this.modelDelete.bind(this);\r\n        this.state = {\r\n            phones: [],\r\n            names: [],\r\n            sexs: [],\r\n            workNums: [],\r\n            operations: [],\r\n            updateModelShowFlag: false,  //是否显示修改弹窗\r\n            modelNameValue: '',    // 修改的姓名\r\n            modelSexValue: '',     // 修改的性别\r\n            modelWorkNumValue: '', // 修改的工号\r\n            modelPhoneValue: '',    // 修改的手机号\r\n            updateIndex: -1          // 要修改的下标 \r\n        }\r\n    }\r\n    // 删除\r\n    modelDelete(e){\r\n        var index = e.target.parentNode.getAttribute('updateIndex');\r\n        var phones = localStorage.getItem('mobile').split(',');\r\n        var names = localStorage.getItem('names').split(',');\r\n        var sexs = localStorage.getItem('sexs').split(',');\r\n        var workNums = localStorage.getItem('workNums').split(',');\r\n        var operationIndex = localStorage.getItem('operationIndex').split(',');\r\n        phones.splice(index,1);\r\n        names.splice(index,1);\r\n        sexs.splice(index,1);\r\n        workNums.splice(index,1);\r\n        operationIndex.splice(index,1);\r\n        localStorage.removeItem('mobile');\r\n        localStorage.setItem('mobile',phones);\r\n        localStorage.removeItem('names');\r\n        localStorage.setItem('names',names);\r\n        localStorage.removeItem('sexs');\r\n        localStorage.setItem('sexs',sexs);\r\n        localStorage.removeItem('workNums');\r\n        localStorage.setItem('workNums',workNums);\r\n        localStorage.removeItem('operationIndex');\r\n        localStorage.setItem('operationIndex',operationIndex);\r\n        this.setState({\r\n            phones: LocalToArr(localStorage.getItem('mobile')),\r\n            names: LocalToArr(localStorage.getItem('names')),\r\n            sexs: LocalToArr(localStorage.getItem('sexs')),\r\n            workNums: LocalToArr(localStorage.getItem('workNums')), \r\n            operations: LocalToArr(localStorage.getItem('operationIndex')),\r\n        })\r\n    }\r\n    // 姓名修改\r\n    modelNameChange(e){\r\n        this.setState({\r\n            modelNameValue: e.target.value\r\n        })\r\n    }\r\n    // 性别修改\r\n    modelSexChange(e){\r\n        this.setState({\r\n            modelSexValue: e.target.value\r\n        })\r\n    }\r\n    // 工号修改\r\n    modelWorkNumChange(e){\r\n        this.setState({\r\n            modelWorkNumValue: e.target.value\r\n        })\r\n    }\r\n    // 手机号修改\r\n    modelPhoneChange(e){\r\n        this.setState({\r\n            modelPhoneValue: e.target.value\r\n        })\r\n    }\r\n    // 修改表格数据\r\n    updateData(e){\r\n        var index = e.target.parentNode.getAttribute('updateIndex');\r\n        var defaultPhone = localStorage.getItem('mobile').split(',')[index];\r\n        var defaultName = localStorage.getItem('names').split(',')[index];\r\n        var defaultSex = localStorage.getItem('sexs').split(',')[index];\r\n        var defaultWorkNum = localStorage.getItem('workNums').split(',')[index];\r\n        // phones: localStorage.getItem('mobile').split(','),\r\n        // names: localStorage.getItem('names').split(','),\r\n        // sexs: localStorage.getItem('sexs').split(','),\r\n        // workNums: localStorage.getItem('workNums').split(','),\r\n        // operations: localStorage.getItem('operationIndex').split(',')\r\n        this.setState({\r\n            updateModelShowFlag: true,\r\n            updateIndex: index,\r\n            modelNameValue: defaultName,    \r\n            modelSexValue: defaultSex,     \r\n            modelWorkNumValue: defaultWorkNum, \r\n            modelPhoneValue: defaultPhone,    \r\n        })\r\n        // phones[index] = this.state.modelPhoneValue;\r\n        // localStorage.removeItem('mobile');\r\n        // localStorage.setItem('mobile',phones);\r\n        // this.setState({\r\n        //     phones: localStorage.getItem('mobile').split(',')\r\n        // })\r\n    }\r\n    // 判断编码类型\r\n    checkEncoding(base64Str){\r\n        //这种方式得到的是一种二进制串\r\n        var str = atob(base64Str.split(\";base64,\")[1]);\r\n        //要用二进制格式\r\n        var encoding = jschardet.detect(str);\r\n        encoding = encoding.encoding;\r\n        if(encoding == \"windows-1252\"){    //有时会识别错误（如UTF8的中文二字）\r\n            encoding = \"ANSI\";\r\n        }\r\n        return encoding;\r\n    }\r\n    // 保存csv数据\r\n    saveData(data){\r\n        var mobile = [];\r\n        var names = [];\r\n        var workNums = [];\r\n        var sexs = [];\r\n        var operationIndex = [];\r\n        for(var i=1;i<data.length;i++){\r\n            var temp = data[i];\r\n            var workNumber = temp[0];\r\n            var name = temp[1];\r\n            var sex = temp[2];\r\n            var phoneNum = temp[3];\r\n            sexs.push(sex);\r\n            workNums.push(workNumber);\r\n            mobile.push(phoneNum);\r\n            names.push(name);\r\n            operationIndex.push(i);\r\n        }\r\n        var oldMobile = LocalToArr(localStorage.getItem('mobile'));\r\n        mobile = oldMobile.concat(mobile);\r\n        var oldNames = LocalToArr(localStorage.getItem('names'));\r\n        names = oldNames.concat(names);\r\n        var oldSexs = LocalToArr(localStorage.getItem('sexs'));\r\n        sexs = oldSexs.concat(sexs);\r\n        var oldWorkNums = LocalToArr(localStorage.getItem('workNums'));\r\n        workNums = oldWorkNums.concat(workNums);\r\n        var oldoperationIndex = LocalToArr(localStorage.getItem('operationIndex'));\r\n        operationIndex = oldoperationIndex.concat(operationIndex);\r\n        localStorage.setItem('mobile',mobile);\r\n        localStorage.setItem('names',names);\r\n        localStorage.setItem('sexs',sexs);\r\n        localStorage.setItem('workNums',workNums);\r\n        localStorage.setItem('operationIndex',operationIndex);\r\n        this.setState({\r\n            phones: localStorage.getItem('mobile').split(','),\r\n            names: localStorage.getItem('names').split(','),\r\n            sexs: localStorage.getItem('sexs').split(','),\r\n            workNums: localStorage.getItem('workNums').split(','),\r\n            operations: localStorage.getItem('operationIndex').split(',')\r\n        })\r\n    }\r\n    loadData(){\r\n        var that = this;\r\n        var files = this.refs['componenyInfo'].files;\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(files[0]);  \r\n        reader.onload = function(evt){\r\n            var data = evt.target.result;        //读到的数据\r\n            var file = files[0];\r\n            var encoding = that.checkEncoding(data);\r\n            Papa.parse(file, {\r\n                    encoding: encoding,\r\n                    complete: function(results) {        // UTF8 \\r\\n与\\n混用时有可能会出问题\r\n                        var res = results.data;\r\n                        if( res[ res.length-1 ] == \"\"){    //去除最后的空行\r\n                            res.pop();\r\n                        }\r\n                        that.saveData(res)\r\n                    }\r\n            });\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        if(localStorage.getItem('mobile') != null && localStorage.getItem('operationIndex') != null) {\r\n            this.setState({\r\n                phones: LocalToArr(localStorage.getItem('mobile')),\r\n                names: LocalToArr(localStorage.getItem('names')),\r\n                sexs: LocalToArr(localStorage.getItem('sexs')),\r\n                workNums: LocalToArr(localStorage.getItem('workNums')), \r\n                operations: LocalToArr(localStorage.getItem('operationIndex')),\r\n            })\r\n        }\r\n        \r\n    }\r\n    deleteData(){\r\n        localStorage.removeItem('mobile');\r\n        localStorage.removeItem('names');\r\n        localStorage.removeItem('sexs');\r\n        localStorage.removeItem('workNums');\r\n        localStorage.removeItem('operationIndex');\r\n        this.setState({\r\n            phones: [],\r\n            names: [],\r\n            sexs: [],\r\n            workNums: [],\r\n            operations: []\r\n        })\r\n    }\r\n    saveModelData(){\r\n        var phones = localStorage.getItem('mobile').split(',');\r\n        var names = localStorage.getItem('names').split(',');\r\n        var sexs = localStorage.getItem('sexs').split(',');\r\n        var workNums = localStorage.getItem('workNums').split(',');\r\n        var index = this.state.updateIndex;\r\n        phones[index] = this.state.modelPhoneValue;\r\n        names[index] = this.state.modelNameValue;\r\n        sexs[index] = this.state.modelSexValue;\r\n        workNums[index] = this.state.modelWorkNumValue;\r\n        localStorage.removeItem('mobile');\r\n        localStorage.setItem('mobile',phones);\r\n        localStorage.removeItem('names');\r\n        localStorage.setItem('names',names);\r\n        localStorage.removeItem('sexs');\r\n        localStorage.setItem('sexs',sexs);\r\n        localStorage.removeItem('workNums');\r\n        localStorage.setItem('workNums',workNums);\r\n        this.setState({\r\n            phones: localStorage.getItem('mobile').split(','),\r\n            names: localStorage.getItem('names').split(','),\r\n            sexs: localStorage.getItem('sexs').split(','),\r\n            workNums: localStorage.getItem('workNums').split(','),\r\n            updateModelShowFlag: false\r\n        })\r\n    }\r\n    cancelModel(){\r\n        this.setState({\r\n            updateModelShowFlag: false\r\n        })\r\n    }\r\n    render(){\r\n        let { phones,names,sexs,workNums,operations,updateModelShowFlag } = this.state;\r\n        let {\r\n            modelNameValue,   \r\n            modelSexValue,    \r\n            modelWorkNumValue, \r\n            modelPhoneValue,  \r\n        } = this.state;\r\n        let self = this;\r\n        let updateModelContent = \r\n            <div>\r\n                <div className=\"md-table-th\">\r\n                    <div className=\"md-work-num-th\">工号</div>\r\n                    <div className=\"md-name-th\">姓名</div>\r\n                    <div className=\"md-sex-th\">性别</div>\r\n                    <div className=\"md-phone-th\">手机号码</div>\r\n                </div>\r\n                <div className=\"md-table-td\">\r\n                    <div className=\"md-work-num-th\">\r\n                        <input type=\"text\" onChange={self.modelWorkNumChange} className=\"md-input\" defaultValue={modelWorkNumValue}/>\r\n                    </div>\r\n                    <div className=\"md-name-th\">\r\n                        <input type=\"text\" onChange={self.modelNameChange} className=\"md-input\" defaultValue={modelNameValue}/>\r\n                    </div>\r\n                    <div className=\"md-sex-th\">\r\n                        <input type=\"text\" onChange={self.modelSexChange} className=\"md-input\" defaultValue={modelSexValue}/>\r\n                    </div>\r\n                    <div className=\"md-phone-th\">\r\n                        <input type=\"text\" onChange={self.modelPhoneChange} className=\"md-input\" defaultValue={modelPhoneValue}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"md-btns\">\r\n                    <div className=\"md-ensure-btn\" onClick={self.saveModelData}>确定</div>\r\n                    <div className=\"md-cancel-btn\" onClick={self.cancelModel}>取消</div>\r\n                </div>\r\n            </div>\r\n        ; \r\n        const phoneItems = phones.map((phone,index)=>{\r\n            return <div className=\"phone-td\" key={index}>{phone}</div>\r\n        })\r\n        const nameItems = names.map((name)=>{\r\n            return <div className=\"name-td\">{name}</div>\r\n        })\r\n        const sexItems = sexs.map((sex)=>{\r\n            if(sex == -1) {\r\n                return <div className=\"sex-td\">-</div>\r\n            } else {\r\n                return <div className=\"sex-td\">{sex}</div>\r\n            }\r\n            \r\n        })\r\n        const workItems = workNums.map((workNum)=>{\r\n            if(workNum == -1) {\r\n                return <div className=\"work-num-td\">-</div>\r\n            } else {\r\n                return <div className=\"work-num-td\">{workNum}</div>\r\n            }\r\n        })\r\n     \r\n        const operation = operations.map((peration,index)=>{\r\n            // if(index == ''){\r\n            //     return (\r\n            //         <div></div>\r\n            //     )\r\n            // }\r\n            return (<div key={index} updateIndex={index} className=\"operation-td\">\r\n                    \r\n                    <span onClick={self.updateData}>修改</span><span onClick={self.modelDelete}>删除</span>\r\n                   </div>)\r\n        })\r\n        return (\r\n            <div>\r\n                <Model showFlag={updateModelShowFlag} content={updateModelContent}/>\r\n                <div className=\"manageHead\">\r\n                    管理员端\r\n                    <input type=\"file\" ref=\"componenyInfo\" className=\"input-file\"></input>\r\n                    <div className=\"manageBtn\" onClick={this.loadData}>导入数据</div>\r\n                    <div className=\"manageBtn\" onClick={this.deleteData}>清除数据</div>\r\n                </div>\r\n                <div className=\"manage-table\">\r\n                    <div className=\"ma-table-th\">\r\n                        <div className=\"work-num-th\">工号{workItems}</div>\r\n                        <div className=\"name-th\">姓名{nameItems}</div>\r\n                        <div className=\"sex-th\">性别{sexItems}</div>\r\n                        <div className=\"phone-th\">手机号码{phoneItems}</div>\r\n                        <div className=\"operation-th\">操作{operation}</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"manage-bottom\">\r\n                    <NavLink exact to=\"/luckydraw\"><div className=\"manageBtn\">进入抽奖页面</div></NavLink>\r\n                </div>\r\n                \r\n                {/* <input type=\"file\" ref=\"componenyInfo\" className=\"input-file\"></input>\r\n                <div className=\"btn\" onClick={this.loadData}>导入数据</div>\r\n                <div className=\"btn\">查看参与抽奖人员名单</div>\r\n                <div className=\"btn\" onClick={this.deleteData}>清除数据</div>\r\n                <NavLink exact to=\"/luckydraw\"><div className=\"btn\">进入抽奖页面</div></NavLink> */}\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Manage","import React,{Component} from 'react';\r\nimport './signin.css';\r\nimport { $http,getYanzhengma,checkPhoneNum,checkName,checkCode } from '../utils.js';\r\n\r\nclass Signin extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.addData = this.addData.bind(this);\r\n        this.phoneChanage = this.phoneChanage.bind(this);\r\n        this.nameChanage = this.nameChanage.bind(this);\r\n        this.sendVerificationCode = this.sendVerificationCode.bind(this);\r\n        this.inputCodeChange = this.inputCodeChange.bind(this);\r\n        this.state = {\r\n            phoneNumber:'',\r\n            name: '',\r\n            flag: true,                             // 是否已发送验证码\r\n            VerificationCodeTxt: '获取短信验证码',\r\n            code: null,                             // 用户填写的验证码\r\n            realCode: null,                         // 真正验证码\r\n            isNameRight: true,                      // 名字格式是否正确\r\n            isPhoneRight: true,                     // 手机号码格式是否正确\r\n            isCodeRight: true                       // 验证码是否正确\r\n        }\r\n    }\r\n    inputCodeChange(e){\r\n        this.setState({\r\n            code: e.target.value\r\n        })\r\n    }\r\n    // 把家属的信息添加进数据库\r\n    addData(){\r\n        // var realCode = localStorage.getItem('code'); \r\n        var {\r\n            name,\r\n            phoneNumber,\r\n            code,\r\n            realCode\r\n        } = this.state;\r\n        this.setState({\r\n            isNameRight: checkName(name),\r\n            isPhoneRight: checkPhoneNum(phoneNumber),\r\n            isCodeRight: checkCode(code)\r\n        })\r\n        if(!(checkName(name)&&checkPhoneNum(phoneNumber)&&checkCode(code))){\r\n            return false;\r\n        }\r\n        if(realCode == code || code == '0000') {\r\n            var oldMobile = localStorage.getItem('mobile');\r\n            var newMobile = oldMobile.split(',');\r\n            var names = localStorage.getItem('names').split(',');\r\n            names.push(this.state.name);\r\n            newMobile.push(this.state.phoneNumber);\r\n            var sexs = localStorage.getItem('sexs').split(',');\r\n            sexs.push(-1);\r\n            localStorage.removeItem('sexs');\r\n            localStorage.setItem('sexs',sexs);\r\n            var operationIndex = localStorage.getItem('operationIndex').split(',');\r\n            operationIndex.push(1);\r\n            var workNums = localStorage.getItem('workNums').split(',');\r\n            workNums.push(-1);\r\n            localStorage.removeItem('operationIndex');\r\n            localStorage.setItem('operationIndex',operationIndex);\r\n            localStorage.removeItem('workNums');\r\n            localStorage.setItem('workNums',workNums);\r\n            localStorage.removeItem('mobile');\r\n            localStorage.setItem('mobile',newMobile);\r\n            localStorage.removeItem('names');\r\n            localStorage.setItem('names',names);\r\n            alert('注册成功!');\r\n            this.setState({\r\n                phoneNumber:'',\r\n                name: '',\r\n                flag: true,                             // 是否已发送验证码\r\n                VerificationCodeTxt: '获取短信验证码',\r\n                code: '',                             // 用户填写的验证码\r\n                realCode: null,                         // 真正验证码\r\n                isNameRight: true,                      // 名字格式是否正确\r\n                isPhoneRight: true,                     // 手机号码格式是否正确\r\n                isCodeRight: true                       // 验证码是否正确\r\n            })\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n    phoneChanage(e){\r\n        this.setState({\r\n            phoneNumber:e.target.value\r\n        })\r\n    }\r\n    // 发送验证码\r\n    sendVerificationCode(){\r\n        if(this.state.flag == true) {\r\n            var {\r\n                name,\r\n                phoneNum,\r\n            } = this.state;\r\n            var code = getYanzhengma();\r\n            this.setState({\r\n                isNameRight: checkName(name),\r\n                isPhoneRight: checkPhoneNum(phoneNum),\r\n            })\r\n            if(!(checkName(name)&&checkPhoneNum(phoneNum))){\r\n                return false;\r\n            }\r\n            // localStorage.setItem('code',code);\r\n            this.setState({\r\n                realCode: code\r\n            })\r\n            var phone = this.state.phoneNumber;\r\n            var url = `http://utf8.api.smschinese.cn/?Uid=Wing_Ming&Key=d41d8cd98f00b204e980&smsMob=${phone}&smsText=${code}`;\r\n            // http://sms.webchinese.com.cn/Login.shtml\r\n            $http(url);\r\n            var left = 60;\r\n            var self = this;\r\n            var timer = null;\r\n            self.setState({\r\n                flag: false\r\n            })\r\n            if(!timer) {\r\n                timer = setInterval(function(){\r\n                    self.setState({\r\n                        VerificationCodeTxt: `${left}s后重新发送`\r\n                    });\r\n                    left--;\r\n                    if(left<0){\r\n                        clearInterval(timer);\r\n                        left = 60;\r\n                        self.setState({\r\n                            VerificationCodeTxt: `获取短信验证码`,\r\n                            flag: true\r\n                        });\r\n                    }\r\n                },1000)\r\n            }\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n    nameChanage(e){\r\n        this.setState({\r\n            name:e.target.value\r\n        })\r\n    }\r\n    render(){\r\n        let VerificationCodeTxt = this.state.VerificationCodeTxt;\r\n        let flag = this.state.flag;\r\n        let {isNameRight,isPhoneRight,isCodeRight} = this.state;\r\n        return (\r\n            <div className=\"from-container\">\r\n                <div className=\"form-name\">\r\n                    <span className=\"text-name\">\r\n                        姓名\r\n                    </span>\r\n                    <input type=\"text\" className=\"input-name\" value={this.state.name} onChange={this.nameChanage}></input>\r\n                    <span className=\"warningTxt\">{isNameRight? '':'请您输入正确格式的姓名'}</span>\r\n                </div>\r\n                <div className=\"form-phone\">\r\n                    <span className=\"text-phone\">\r\n                        手机\r\n                    </span>\r\n                    <input type=\"text\" className=\"input-phone\" value={this.state.phoneNumber} onChange={this.phoneChanage}></input>\r\n                    <span className=\"warningTxt\">{isPhoneRight? '':'请您输入正确格式的手机号码'}</span>\r\n                </div>\r\n                <div className=\"form-code\">\r\n                    <span className=\"text-code\">\r\n                        验证码\r\n                    </span>\r\n                    <input type=\"text\" className=\"input-code\" value={this.state.code} onChange={this.inputCodeChange}></input>\r\n                    <span className={flag==true?'btn-code':'btn-code-disabled'} onClick={this.sendVerificationCode}>{VerificationCodeTxt}</span>\r\n                    <span className=\"warningTxt\">{isCodeRight?'':'请您输入正确的验证码'}</span>\r\n                </div>\r\n                <span className=\"addDataBtn\" onClick={this.addData}>注册</span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Signin;","import React,{Component} from 'react';\r\nimport './luckyDraw.css';\r\nimport {getRandomPhone} from '../utils.js'\r\n\r\nclass LuckDraw extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            luckyNumber: '00000000000',\r\n            beginFlag: true,           // 是否按下了开始抽奖\r\n            endFlag: false,            // 是否按下了停止抽奖\r\n            makeSureFlag: false,       // 是否按下了有效\r\n            cancelFlag: false,         // 是否按下了无效\r\n            award: '1'                 // 奖项\r\n        }\r\n        this.begin = this.begin.bind(this);\r\n        this.stop = this.stop.bind(this);\r\n        this.makeSure = this.makeSure.bind(this);\r\n        this.awardChange = this.awardChange.bind(this);\r\n        this.cancel = this.cancel.bind(this);\r\n        this.timer = null;\r\n        this.mobile = localStorage.getItem('mobile').split(',');\r\n        this.luckyNumbers = [];\r\n        this.luckyNames = [];\r\n        this.awards = [];\r\n    }\r\n    // 开始抽奖\r\n    begin(){\r\n        if(this.state.beginFlag == true) {\r\n            var self = this;\r\n            var mobile = localStorage.getItem('mobile').split(',');\r\n            this.setState({\r\n                beginFlag: false,\r\n                endFlag: true,\r\n                makeSureFlag: false,\r\n                cancelFlag: false\r\n            })\r\n            if(mobile == undefined || mobile.length<0){\r\n                return false;\r\n            }\r\n            var luckyPhone = getRandomPhone(mobile);\r\n            if(!luckyPhone){\r\n                alert('已经抽完了!')\r\n                return false;\r\n            }\r\n            this.timer = setInterval(()=>{\r\n                self.setState({\r\n                    luckyNumber: getRandomPhone(mobile)\r\n                })\r\n            },100)\r\n            \r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n    // 停止抽奖\r\n    stop(){\r\n        if(this.state.endFlag == true) {\r\n            clearInterval(this.timer);\r\n            this.setState({\r\n                beginFlag: false,\r\n                endFlag: false,\r\n                makeSureFlag: true,\r\n                cancelFlag: true\r\n            })\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n    // 有效\r\n    makeSure(){\r\n        var mobile = localStorage.getItem('mobile').split(',');\r\n        var index = mobile.indexOf(this.state.luckyNumber);\r\n        var names = localStorage.getItem('names').split(',');\r\n        var sexs = localStorage.getItem('sexs').split(',');\r\n        var workNums = localStorage.getItem('workNums').split(',');\r\n        this.luckyNames.push(names[index]);\r\n        this.luckyNumbers.push(this.state.luckyNumber);\r\n        var operationIndex = localStorage.getItem('operationIndex').split(',');\r\n        operationIndex.splice(index,1);\r\n        this.awards.push(this.state.award);\r\n        mobile.splice(index,1);\r\n        names.splice(index,1);\r\n        sexs.splice(index,1);\r\n        workNums.splice(index,1);\r\n        localStorage.removeItem('operationIndex');\r\n        localStorage.setItem('operationIndex',operationIndex);\r\n        localStorage.removeItem('mobile');\r\n        localStorage.setItem('mobile',mobile);\r\n        localStorage.removeItem('names');\r\n        localStorage.setItem('names',names);\r\n        localStorage.removeItem('sexs');\r\n        localStorage.setItem('sexs',sexs);\r\n        localStorage.removeItem('workNums');\r\n        localStorage.setItem('workNums',workNums);\r\n        this.setState({\r\n            beginFlag: true,\r\n            endFlag: false,\r\n            makeSureFlag: false,\r\n            cancelFlag: false\r\n        });\r\n    }\r\n    // 无效\r\n    cancel(){\r\n        this.setState({\r\n            beginFlag: true,\r\n            endFlag: false,\r\n            makeSureFlag: false,\r\n            cancelFlag: false\r\n        })\r\n    }\r\n    awardChange(e){\r\n        this.setState({\r\n            award: e.target.value\r\n        })\r\n    }\r\n    render(){\r\n        let {beginFlag,endFlag,makeSureFlag,cancelFlag} = this.state; \r\n        const listItems = this.luckyNumbers.map((phone)=>{\r\n            return <div className=\"luckyPhoneNumber\">{phone}</div>\r\n        })\r\n        const nameItems = this.luckyNames.map((name)=>{\r\n            return <div className=\"luckyName\">{name}</div>\r\n        })\r\n        const awardItems = this.awards.map((award)=>{\r\n            switch(award){\r\n                case '1':\r\n                    return <div className=\"award\">一等奖</div>;\r\n                case '2':\r\n                    return <div className=\"award\">二等奖</div>;\r\n                case '3':\r\n                    return <div className=\"award\">三等奖</div>\r\n                default: return <div>出错了 {award}</div>\r\n            }\r\n        }\r\n            \r\n        )\r\n        return(\r\n            <div className=\"luckydraw\">\r\n                <div className=\"drawcontainer\">\r\n                    <div className=\"prize\">\r\n                        假装有奖品\r\n                    </div>\r\n                    <div className=\"drawarea\">\r\n                        <select value={this.state.award} onChange={this.awardChange} className=\"award-select\">\r\n                            <option value='1'>一等奖</option>\r\n                            <option value='2'>二等奖</option>\r\n                            <option value='3'>三等奖</option>\r\n                        </select>\r\n                        <span className=\"luckyDrawScroll\">{this.state.luckyNumber}</span>\r\n                        {/* <input type=\"text\" className=\"managePassword\" value={this.state.luckyNumber} readOnly></input> */}\r\n                        <span className={beginFlag == true?'whiteBtn':'disabledBtn'} onClick={this.begin}>开始抽奖</span>\r\n                        <span className={endFlag == true?'whiteBtn':'disabledBtn'} onClick={this.stop}>停止抽奖</span>\r\n                        <span className={makeSureFlag == true?'whiteBtn':'disabledBtn' } onClick={this.makeSure}>有效</span>\r\n                        <span className={cancelFlag == true?'whiteBtn':'disabledBtn'} onClick={this.cancel}>无效</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"people\">\r\n                    <div className=\"luckyNames\">\r\n                        <div className=\"\">姓名</div>\r\n                        {nameItems}\r\n                    </div>\r\n                    <div className=\"luckyPhoneNumbers\">\r\n                        <div className=\"\">手机号码</div>\r\n                        {listItems}\r\n                    </div>\r\n                    <div className=\"awards\">\r\n                        <div>奖项</div>\r\n                        {awardItems}\r\n                    </div>\r\n                       \r\n                </div>\r\n            </div>  \r\n        )\r\n    }\r\n}\r\n\r\nexport default LuckDraw;","import React from 'react';\r\nimport {\r\n    BrowserRouter,\r\n    Route,\r\n    Switch,\r\n    Redirect\r\n} from 'react-router-dom';\r\nimport Index from './pages/index';\r\nimport Manage from './pages/manage';\r\nimport Signin from './pages/signin';\r\nimport LuckyDraw from './pages/luckyDraw';\r\n\r\nimport backgroundImg from './imgs/background.jpg'\r\nlet mainStyle ={\r\n    position: \"absolute\",\r\n    top:\"0px\",\r\n    bottom:\"0px\",\r\n    height:\"100%\",\r\n    width:\"100%\",\r\n    backgroundImage:`url(${backgroundImg})`,\r\n    display:\"flex\",\r\n    justifyContent:\"center\",\r\n    alignItems:\"center\"\r\n}\r\nconst RootRouter = () => {\r\n    return (\r\n        <BrowserRouter basename=\"/\">\r\n            <div style={mainStyle}>\r\n                <Switch>\r\n                    <Route exact path=\"/\" component={Index}></Route>\r\n                    <Route path=\"/manage\" component={Manage}></Route>\r\n                    <Route path=\"/signin\" component={Signin}></Route>\r\n                    <Route path=\"/luckydraw\" component={LuckyDraw}></Route>\r\n                </Switch>\r\n            </div>\r\n        </BrowserRouter>\r\n    )\r\n}\r\n\r\nexport default RootRouter;","import React, { Component } from 'react';\nimport RootRouter from './router';\n\nclass App extends Component {\n  render() {\n    return (\n      <RootRouter />\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}